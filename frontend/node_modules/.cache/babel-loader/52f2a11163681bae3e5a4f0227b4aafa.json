{"ast":null,"code":"var _jsxFileName = \"/app/src/App.js\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Web3 from \"web3\";\nimport React from \"react\";\nimport Payments from \"./build/contracts/Payments.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      event.preventDefault();\n\n      switch (event.target) {\n        case event.target === \"email\":\n          this.setState({\n            email: event.target.value\n          });\n          break;\n\n        case event.target === \"address\":\n          this.setState({\n            address: event.target.value\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      this.web3.eth.sendTransaction({\n        from: this.state.account,\n        to: this.state.address,\n        value: this.state.amount\n      }).then(function (receipt) {\n        console.log(receipt);\n      });\n    };\n\n    this.state = {\n      account: \"\",\n      balance: \"\",\n      address: \"\",\n      amount: \"\",\n      web3: null\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      let web3;\n\n      if (window.ethereum) {\n        web3 = new Web3(window.ethereum);\n      } else if (window.web3.currentProvider) {\n        web3 = new Web3(window.web3.currentProvider);\n      } else {\n        alert(\"no provider available\");\n      }\n\n      const accounts = await web3.eth.getAccounts();\n      console.log(accounts[0]);\n      const balance = await web3.eth.getBalance(accounts[0]);\n      this.setState({\n        account: accounts[0],\n        balance: balance,\n        web3: web3\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Metmask address \", this.state.account, \" Balance \", this.state.balance]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"address\",\n          type: \"text\",\n          onChange: this.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"amount\",\n          type: \"number\",\n          onChange: this.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          onSubmit: this.onSubmit,\n          value: \"Sent!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/app/src/App.js"],"names":["Web3","React","Payments","App","Component","constructor","props","onChange","event","preventDefault","target","setState","email","value","address","onSubmit","web3","eth","sendTransaction","from","state","account","to","amount","then","receipt","console","log","balance","componentDidMount","window","ethereum","currentProvider","alert","accounts","getAccounts","getBalance","e","render"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport Web3 from \"web3\";\nimport React from \"react\"\n\nimport Payments from \"./build/contracts/Payments.json\"\n\n\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state ={account: \"\", balance: \"\", address: \"\", amount: \"\", web3: null}\n  }\n  async componentDidMount() {\n    try{\n      let web3;\n      if (window.ethereum){\n        web3 = new Web3(window.ethereum);\n      }else if(window.web3.currentProvider){\n        web3 = new Web3(window.web3.currentProvider) \n      }else{\n        alert(\"no provider available\")\n      }\n\n      const accounts = await web3.eth.getAccounts();\n      console.log(accounts[0])\n      const balance = await web3.eth.getBalance(accounts[0]);\n      this.setState({account: accounts[0], balance: balance, web3: web3})\n      \n      \n\n    }catch(e){\n      console.log(e)\n    }\n\n  }\n\n  onChange = (event) =>{\n    event.preventDefault();\n    switch(event.target){\n      case event.target === \"email\":\n        this.setState({email: event.target.value})\n        break;\n      case event.target === \"address\":\n        this.setState({address: event.target.value})\n        break;\n      default:\n        break;\n      }\n  }\n  \nonSubmit = (event) =>{\n  event.preventDefault()\n  this.web3.eth.sendTransaction({\n    from: this.state.account,\n    to: this.state.address,\n    value: this.state.amount,\n  }).then(function(receipt){\n    console.log(receipt);\n  })\n\n\n}\n\n  render(){\n    \n\n    return (\n      <div>\n      <h1>Metmask address {this.state.account} Balance {this.state.balance}</h1>\n\n      \n      <form>\n        <label>Address</label>\n        <input name=\"address\" type=\"text\" onChange={this.onChange}></input>\n        <label>Amount</label>\n        <input name=\"amount\" type=\"number\" onChange={this.onChange}></input>\n        <input type=\"submit\" onSubmit={this.onSubmit} value=\"Sent!\"></input>\n\n      </form>\n\n\n      </div>\n\n    )\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}