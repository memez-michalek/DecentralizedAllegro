{"ast":null,"code":"var _jsxFileName = \"/app/src/App.js\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Web3 from \"web3\";\nimport React from \"react\";\nimport fs from \"fs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst compiledPayments = fs.readFile(\"./build/contracts/Payments.json\");\nconst compiledPaymentsJson = JSON.parse(compiledPayments);\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = event => {\n      event.preventDefault();\n\n      switch (event.target) {\n        case event.target === \"email\":\n          this.setState({\n            email: event.target.value\n          });\n          break;\n\n        case event.target === \"address\":\n          this.setState({\n            address: event.target.value\n          });\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.state = {\n      account: \"\",\n      balance: \"\",\n      address: \"\",\n      amount: \"\",\n      web3: null\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      let web3;\n\n      if (window.ethereum) {\n        web3 = new Web3(window.ethereum);\n      } else if (window.web3.currentProvider) {\n        web3 = new Web3(window.web3.currentProvider);\n      } else {\n        alert(\"no provider available\");\n      }\n\n      const accounts = await web3.eth.getAccounts();\n      console.log(accounts[0]);\n      console.log(accounts[2]);\n      const balance = await web3.eth.getBalance(accounts[0]);\n      const code = \"608060405234801561001057600080fd5b506107ea806100206000396000f3fe6080604052600436106100345760003560e01c80632e1a7d4d14610039578063a574971014610055578063d0e30db01461006c575b600080fd5b610053600480360381019061004e919061055a565b610076565b005b34801561006157600080fd5b5061006a6102b6565b005b61007461032e565b005b80600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205411156102865760016000808282546100cf919061064e565b9250508190555060006040518060a0016040528060005481526020018381526020013073ffffffffffffffffffffffffffffffffffffffff1681526020013373ffffffffffffffffffffffffffffffffffffffff16815260200142815250905081600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825461017e91906106fe565b92505081905550806001600080548152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550608082015181600401559050507f501d2ee23004319f6a5bb2b46418b1302d4b47878ed98d04c1da0bc2adc3f5cf816040516102789190610618565b60405180910390a1506102b3565b7f1a0263ed436266744072d5b62695bd5a661e1b61e106a60b28f9b2559375cde360405160405180910390a15b50565b7fccd63b477c883a586271d6c5e65e8a82327bddc52ed1908a1078708f8c5c101a600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546040516103249190610633565b60405180910390a1565b6001600080828254610340919061064e565b9250508190555060006040518060a001604052806000548152602001670de0b6b3a76400003461037091906106a4565b81526020013373ffffffffffffffffffffffffffffffffffffffff1681526020013073ffffffffffffffffffffffffffffffffffffffff168152602001428152509050806001600080548152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550608082015181600401559050506000600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905034816104c7919061064e565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055507f28e98b83f2df9fe9efcc7b23e1487634c2d4001d734219002bbc4b741c2447b4826040516105399190610618565b60405180910390a15050565b6000813590506105548161079d565b92915050565b60006020828403121561056c57600080fd5b600061057a84828501610545565b91505092915050565b61058c81610732565b82525050565b60a0820160008201516105a860008501826105fa565b5060208201516105bb60208501826105fa565b5060408201516105ce6040850182610583565b5060608201516105e16060850182610583565b5060808201516105f460808501826105fa565b50505050565b61060381610764565b82525050565b61061281610764565b82525050565b600060a08201905061062d6000830184610592565b92915050565b60006020820190506106486000830184610609565b92915050565b600061065982610764565b915061066483610764565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156106995761069861076e565b5b828201905092915050565b60006106af82610764565b91506106ba83610764565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156106f3576106f261076e565b5b828202905092915050565b600061070982610764565b915061071483610764565b9250828210156107275761072661076e565b5b828203905092915050565b600061073d82610744565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6107a681610764565b81146107b157600080fd5b5056fea26469706673582212203be9f6cc3d44611bced20d3b52769ef48026ea50d2512d1e47aafb45d9c06c4b64736f6c63430008040033\";\n      web3.eth.sendTransaction({\n        from: accounts[0],\n        data: code\n      }, function (error, callback) {\n        console.log(error);\n      });\n      const contract = new web3.eth.Contract(compiledPaymentsJson, \"0x29118205e1DC737F52FE0E9A82d1085b44309609\", {\n        gasPrice: '20000000000',\n        from: accounts[0]\n      });\n      console.log(contract); //this.setState({account: accounts[0], balance: balance, web3: web3})\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async onSubmit() {\n    console.log(this.state.address);\n    console.log(this.state.amount);\n    this.web3.eth.sendTransaction({\n      from: this.state.account,\n      to: this.state.address,\n      value: this.state.amount\n    }).then(function (receipt) {\n      console.log(receipt);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Metmask address \", this.state.account, \" Balance \", this.state.balance]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"address\",\n          type: \"text\",\n          onChange: this.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"amount\",\n          type: \"number\",\n          onChange: this.onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          onSubmit: this.onSubmit,\n          value: \"Send!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/app/src/App.js"],"names":["Web3","React","fs","compiledPayments","readFile","compiledPaymentsJson","JSON","parse","App","Component","constructor","props","onChange","event","preventDefault","target","setState","email","value","address","state","account","balance","amount","web3","componentDidMount","window","ethereum","currentProvider","alert","accounts","eth","getAccounts","console","log","getBalance","code","sendTransaction","from","data","error","callback","contract","Contract","gasPrice","e","onSubmit","to","then","receipt","render"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport Web3 from \"web3\";\n \n\n\nimport React from \"react\"\nimport fs from \"fs\"\n\n\nconst compiledPayments = fs.readFile(\"./build/contracts/Payments.json\")\nconst compiledPaymentsJson = JSON.parse(compiledPayments)\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state ={account: \"\", balance: \"\", address: \"\", amount: \"\", web3: null}\n  }\n  async componentDidMount() {\n    try{\n      let web3;\n      if (window.ethereum){\n        web3 = new Web3(window.ethereum);\n      }else if(window.web3.currentProvider){\n        web3 = new Web3(window.web3.currentProvider) \n      }else{\n        alert(\"no provider available\")\n      }\n\n      const accounts = await web3.eth.getAccounts();\n      console.log(accounts[0])\n      console.log(accounts[2])\n      const balance = await web3.eth.getBalance(accounts[0]);\n      const code = \"608060405234801561001057600080fd5b506107ea806100206000396000f3fe6080604052600436106100345760003560e01c80632e1a7d4d14610039578063a574971014610055578063d0e30db01461006c575b600080fd5b610053600480360381019061004e919061055a565b610076565b005b34801561006157600080fd5b5061006a6102b6565b005b61007461032e565b005b80600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205411156102865760016000808282546100cf919061064e565b9250508190555060006040518060a0016040528060005481526020018381526020013073ffffffffffffffffffffffffffffffffffffffff1681526020013373ffffffffffffffffffffffffffffffffffffffff16815260200142815250905081600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825461017e91906106fe565b92505081905550806001600080548152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550608082015181600401559050507f501d2ee23004319f6a5bb2b46418b1302d4b47878ed98d04c1da0bc2adc3f5cf816040516102789190610618565b60405180910390a1506102b3565b7f1a0263ed436266744072d5b62695bd5a661e1b61e106a60b28f9b2559375cde360405160405180910390a15b50565b7fccd63b477c883a586271d6c5e65e8a82327bddc52ed1908a1078708f8c5c101a600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546040516103249190610633565b60405180910390a1565b6001600080828254610340919061064e565b9250508190555060006040518060a001604052806000548152602001670de0b6b3a76400003461037091906106a4565b81526020013373ffffffffffffffffffffffffffffffffffffffff1681526020013073ffffffffffffffffffffffffffffffffffffffff168152602001428152509050806001600080548152602001908152602001600020600082015181600001556020820151816001015560408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060608201518160030160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550608082015181600401559050506000600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905034816104c7919061064e565b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055507f28e98b83f2df9fe9efcc7b23e1487634c2d4001d734219002bbc4b741c2447b4826040516105399190610618565b60405180910390a15050565b6000813590506105548161079d565b92915050565b60006020828403121561056c57600080fd5b600061057a84828501610545565b91505092915050565b61058c81610732565b82525050565b60a0820160008201516105a860008501826105fa565b5060208201516105bb60208501826105fa565b5060408201516105ce6040850182610583565b5060608201516105e16060850182610583565b5060808201516105f460808501826105fa565b50505050565b61060381610764565b82525050565b61061281610764565b82525050565b600060a08201905061062d6000830184610592565b92915050565b60006020820190506106486000830184610609565b92915050565b600061065982610764565b915061066483610764565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156106995761069861076e565b5b828201905092915050565b60006106af82610764565b91506106ba83610764565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156106f3576106f261076e565b5b828202905092915050565b600061070982610764565b915061071483610764565b9250828210156107275761072661076e565b5b828203905092915050565b600061073d82610744565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6107a681610764565b81146107b157600080fd5b5056fea26469706673582212203be9f6cc3d44611bced20d3b52769ef48026ea50d2512d1e47aafb45d9c06c4b64736f6c63430008040033\"\n\n\n      \n      web3.eth.sendTransaction({\n        from: accounts[0], \n        data: code,\n      }, function(error, callback){\n        console.log(error)\n      })\n        \n\n\n      const contract = new web3.eth.Contract(compiledPaymentsJson, \"0x29118205e1DC737F52FE0E9A82d1085b44309609\",{gasPrice: '20000000000', from: accounts[0]})\n      console.log(contract)\n\n\n      \n\n      //this.setState({account: accounts[0], balance: balance, web3: web3})\n      \n      \n\n    }catch(e){\n      console.log(e)\n    }\n\n  }\n\n  onChange = (event) =>{\n    event.preventDefault();\n    switch(event.target){\n      case event.target === \"email\":\n        this.setState({email: event.target.value})\n        break;\n      case event.target === \"address\":\n        this.setState({address: event.target.value})\n        break;\n      default:\n        break;\n      }\n  }\n  \nasync onSubmit(){\n  console.log(this.state.address)\n  console.log(this.state.amount)\n\n  \n  this.web3.eth.sendTransaction({\n    from: this.state.account,\n    to: this.state.address,\n    value: this.state.amount,\n  }).then(function(receipt){\n    console.log(receipt);\n  })\n\n\n}\n\n  render(){\n    \n\n    return (\n      <div>\n      <h1>Metmask address {this.state.account} Balance {this.state.balance}</h1>\n\n      \n      <form>\n        <label>Address</label>\n        <input name=\"address\" type=\"text\" onChange={this.onChange}></input>\n        <label>Amount</label>\n        <input name=\"amount\" type=\"number\" onChange={this.onChange}></input>\n        <input type=\"submit\" onSubmit={this.onSubmit} value=\"Send!\"></input>\n\n      </form>\n\n\n      </div>\n\n    )\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}